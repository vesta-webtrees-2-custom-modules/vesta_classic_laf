<?php

declare(strict_types=1);

use Cissee\WebtreesExt\Http\RequestHandlers\EditGedcomFieldsArgs;
use Fisharebest\Webtrees\Tree;

/**
 * @var string        $gedcom
 * @var array<string> $hierarchy
 * @var string        $prefix
 * @var Tree          $tree
 */

$args = \Vesta\VestaUtils::get(EditGedcomFieldsArgs::class);

if($args->canConfigure()) {
    //own view, plus extension for 'expand subtags'
    echo view('edit/edit-gedcom-fields-ext', [
        'gedcom' => $gedcom,
        'hierarchy' => $hierarchy,
        'prefix' => $prefix,
        'tree' => $tree]);

    return;
}

//original view, plus extension for 'expand subtags'
echo view('edit/edit-gedcom-fields-ext2', [
    'gedcom' => $gedcom,
    'hierarchy' => $hierarchy,
    'prefix' => $prefix,
    'tree' => $tree]);
